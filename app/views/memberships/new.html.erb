<%
%>

<script type="text/javascript" charset="utf-8">
$(document).ready(function() {
    options = {matchSubset: false}
    $("input#user_login_autocomplete").autocomplete("auto_complete_for_user_login", options);
  });
</script>

<%= breadcrumbs_from(@root) -%>

<h2 class="content-header"><%= t("views.memberships.new_title", :group_memberships => link_to(h(@group.name), [@group, :memberships])) -%></h2>

<%= error_messages_for :group, :membership -%>
<%= form_for [@group, @membership] do |f| -%>
<fieldset>
  <li>
    <%= f.label :login, t("views.users.username") -%>
    <div><%= text_field :user, :login, :id => "user_login_autocomplete" -%></div>
  </li>
  <li>
    <%= f.label :role, t("views.memberships.role") -%>
    <div><%= f.select :role_id, Role.all.map{|r| [r.name, r.id]} -%></div>
  </li>
</fieldset>
<fieldset class="submit">
  <%= f.submit -%>
</fieldset>
<% end -%>
